---
title: "[Python] 시각화 도구(3) - Seaborn, 지도"
excerpt: "0601 시각화 도구(3) - Seaborn, 지도"

categories:
  - 데이터 분석
tags:
  - []

permalink: /DA/lesson5-1/

toc: true
toc_sticky: ture

date: 2023-06-01
last_modified_at: 2023-06-04
---

## Seaborn

```python
# 데이터 불러오기
import seaborn as sns
titanic = sns.load_dataset('titanic')
titanic.head()
--------------------------------------
# 	survived	pclass	sex	age	sibsp	parch	fare	embarked	class	who	adult_male	deck	embark_town	alive	alone
# 0	0	3	male	22.0	1	0	7.2500	S	Third	man	True	NaN	Southampton	no	False
# 1	1	1	female	38.0	1	0	71.2833	C	First	woman	False	C	Cherbourg	yes	False
# 2	1	3	female	26.0	0	0	7.9250	S	Third	woman	False	NaN	Southampton	yes	True
# 3	1	1	female	35.0	1	0	53.1000	S	First	woman	False	C	Southampton	yes	False
# 4	0	3	male	35.0	0	0	8.0500	S	Third	man	True	NaN	Southampton	no	True
```

### 산점도

```python
import matplotlib.pyplot as plt

# 그래프 객체
fig = plt.figure(figsize = (10,5))
ax1 = fig.add_subplot(1,2,1)
ax2 = fig.add_subplot(1,2,2)

# 산점도
sns.regplot(x = 'age', y = 'fare', # 변수 설정
            data = titanic, # 데이터 설정
            ax = ax1, # 위치 설정
            fit_reg = False)

sns.regplot(x = 'age', y = 'fare', # 변수 설정
            data = titanic, # 데이터 설정
            ax = ax2, # 위치 설정
            fit_reg = True)
```

![image](https://github.com/JS042/cs231n/assets/84077022/33305f73-78c2-4a46-a49a-2046bbaceea5)

### 히스토그램, 밀도 함수 그래프

```python
# 그래프 객체
fig = plt.figure(figsize = (18,5))
ax1 = fig.add_subplot(1,3,1)
ax2 = fig.add_subplot(1,3,2)
ax3 = fig.add_subplot(1,3,3)

# 히스토그램 + 밀도함수 그래프
sns.distplot(titanic['fare'], ax = ax1)

# 밀도함수 그래프
sns.kdeplot(titanic['fare'], ax = ax2)

# 히스토그램
sns.histplot(titanic['fare'], ax = ax3)

# 제목 추가
ax1.set_title('fare에 대한 히스토그램 & 밀도 함수')
ax2.set_title('fare에 대한 밀도 함수')
ax3.set_title('fare에 대한 히스토그램')

plt.show()
```

![image](https://github.com/JS042/cs231n/assets/84077022/b591cc1f-53d5-44db-8447-93feca7943b9)

### 히트맵

```python
# 피봇 테이블 생성
table = titanic.pivot_table(index = 'sex', columns = 'class', aggfunc = 'size')
table
-----------------------------------------
# class	First	Second	Third
# sex			
# female	94	76	144
# male	122	108	347
```

```python
sns.heatmap(table,
            annot = True, # 데이터 값 표시 부여
            fmt = 'd', # 숫자 표현 방식, d = 정수
            cmap = 'summer', # 컬러맵
            linewidth = 1, # 구분선
            cbar = True # 컬러바 표시여부
)

plt.show()
```

![image](https://github.com/JS042/cs231n/assets/84077022/f3ec38e4-5c12-4d13-ba0c-c08c5aeda59f)

### 범주형 변수 산점도

```python
# 폰트 설정
plt.rc('font', family = 'NanumGothic')

# 그래프 객체
fig = plt.figure(figsize = (18,5))
ax1 = fig.add_subplot(1,2,1)
ax2 = fig.add_subplot(1,2,2)

# 범주형 변수 산점도
# 1) 분산 고려하지 않은 경우
sns.stripplot(x = 'class', y = 'age', data = titanic, ax = ax1)

# 2) 분산 고려한 경우
sns.swarmplot(x = 'class', y = 'age', data = titanic, ax = ax2)

# 제목 추가
ax1.set_title('클래스에 따른 연령의 분포 - 분산 고려 X')
ax2.set_title('클래스에 따른 연령의 분포 - 분산 고려 O')

plt.show()
```

![image](https://github.com/JS042/cs231n/assets/84077022/6fb03c44-c240-4d81-9403-b2784c3fcf79)


